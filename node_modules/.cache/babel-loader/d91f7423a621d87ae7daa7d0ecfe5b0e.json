{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\beatriz.araujo\\\\Downloads\\\\react-olx-main\\\\src\\\\pages\\\\AdPage\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Slide } from 'react-slideshow-image';\nimport 'react-slideshow-image/dist/styles.css';\nimport { Link } from 'react-router-dom';\nimport useApi from '../../helpers/OLXApi';\nimport { BreadCrumb, PageArea, Fake, AdImage, OthersArea } from './style';\nimport { PageContainer, AdItem, ErrorMessage } from '../../components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Page = () => {\n  _s();\n\n  const api = useApi();\n  const {\n    id\n  } = useParams();\n  const [loading, setLoading] = useState(true);\n  const [adInfo, setAdInfo] = useState({});\n  const [error, setError] = useState('');\n  useEffect(() => {\n    window.scrollTo({\n      top: 0,\n      left: 0,\n      behavior: 'smooth'\n    });\n    setLoading(true);\n\n    const getAdInfo = async id => {\n      const getOtherAds = true;\n      const json = await api.getAd(id, getOtherAds);\n\n      if (json.error) {\n        const jsonErrors = [];\n\n        for (let err in json.error) {\n          console.log(err.msg);\n          jsonErrors.push(json.error[err].msg);\n        }\n\n        ;\n        setError(jsonErrors.join(', '));\n      }\n\n      ;\n      setAdInfo(json);\n      setLoading(false);\n    };\n\n    setTimeout(() => {\n      getAdInfo(id);\n    }, 200); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  const formatDate = date => {\n    const currentDate = new Date(date);\n    const months = ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'];\n    let currentDay = currentDate.getDate();\n    const currentMotnh = currentDate.getMonth();\n    const currentYear = currentDate.getFullYear();\n    currentDay = currentDay < 10 ? '0' + currentDay : currentDay;\n    return `${currentDay} de ${months[currentMotnh]} de ${currentYear}`;\n  };\n\n  const formatPrice = price => {\n    return parseFloat(price).toLocaleString('pt-BR', {\n      style: 'currency',\n      currency: 'BRL'\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(PageContainer, {\n    children: [error && /*#__PURE__*/_jsxDEV(ErrorMessage, {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }, this), error === '' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(BreadCrumb, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box\",\n          children: loading ? /*#__PURE__*/_jsxDEV(Fake, {\n            height: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\"Voc\\xEA est\\xE1 aqui:\", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              children: \"Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 16\n            }, this), \">\", /*#__PURE__*/_jsxDEV(Link, {\n              to: `/ads?state=${adInfo.user_info.state}`,\n              children: adInfo.user_info.state\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 16\n            }, this), \">\", /*#__PURE__*/_jsxDEV(Link, {\n              to: `/ads?state=${adInfo.user_info.state}&cat=${adInfo.category.slug}`,\n              children: adInfo.category.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 16\n            }, this), \"> \", adInfo.title]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(PageArea, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"leftSide\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"box\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"adImage\",\n              children: loading ? /*#__PURE__*/_jsxDEV(Fake, {\n                height: 320\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 23\n              }, this) : adInfo.images && /*#__PURE__*/_jsxDEV(Slide, {\n                children: adInfo.images.map((item, key) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"each-slide\",\n                  children: /*#__PURE__*/_jsxDEV(AdImage, {\n                    background: item\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 103,\n                    columnNumber: 25\n                  }, this)\n                }, key, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 40\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"adInfo\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"adName\",\n                children: loading ? /*#__PURE__*/_jsxDEV(Fake, {\n                  height: 55\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                    children: adInfo.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 114,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: [\"Criado em: \", formatDate(adInfo.date_created)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"adDescription\",\n                children: loading ? /*#__PURE__*/_jsxDEV(Fake, {\n                  height: 100,\n                  fillContent: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"adDescriptionContent\",\n                    children: adInfo.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 125,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"adDescriptionContentBottom\",\n                    children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 129,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                      children: [\"Visualiza\\xE7\\xF5es: \", adInfo.views]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 130,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rightSide\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"box box--padding\",\n            children: loading ? /*#__PURE__*/_jsxDEV(Fake, {\n              height: 59\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 21\n            }, this) : adInfo.price_negotiable ? \"Preço negociável\" : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"price\",\n              children: [\"Pre\\xE7o: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: formatPrice(adInfo.price)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 30\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"box-blue box box--padding\",\n            children: /*#__PURE__*/_jsxDEV(Fake, {\n              height: 15\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `mailto:${adInfo.user_info.email}`,\n            target: \"_blank\",\n            rel: \"noreferrer\",\n            className: \"contactSellerLink\",\n            children: \"Fale com o vendedor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"createdBy box box--padding\",\n            children: loading ? /*#__PURE__*/_jsxDEV(Fake, {\n              height: 102\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [\"Criado por:\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: adInfo.user_info.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 18\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                children: [\"E-mail: \", adInfo.user_info.email]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                children: [\"Estado: \", adInfo.user_info.state]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(OthersArea, {\n        children: loading ? /*#__PURE__*/_jsxDEV(Fake, {\n          height: 300\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 17\n        }, this) : adInfo.others && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Outras ofertas do vendedor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"list\",\n            children: adInfo.others.map((item, key) => /*#__PURE__*/_jsxDEV(AdItem, {\n              data: item\n            }, key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Page, \"dpCbhaln2XYShWx09VvCRV6fLnc=\", false, function () {\n  return [useApi, useParams];\n});\n\n_c = Page;\nexport default Page;\n\nvar _c;\n\n$RefreshReg$(_c, \"Page\");","map":{"version":3,"sources":["C:/Users/beatriz.araujo/Downloads/react-olx-main/src/pages/AdPage/index.js"],"names":["React","useEffect","useState","useParams","Slide","Link","useApi","BreadCrumb","PageArea","Fake","AdImage","OthersArea","PageContainer","AdItem","ErrorMessage","Page","api","id","loading","setLoading","adInfo","setAdInfo","error","setError","window","scrollTo","top","left","behavior","getAdInfo","getOtherAds","json","getAd","jsonErrors","err","console","log","msg","push","join","setTimeout","formatDate","date","currentDate","Date","months","currentDay","getDate","currentMotnh","getMonth","currentYear","getFullYear","formatPrice","price","parseFloat","toLocaleString","style","currency","user_info","state","category","slug","name","title","images","map","item","key","date_created","description","views","price_negotiable","email","others"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Slide } from 'react-slideshow-image';\nimport 'react-slideshow-image/dist/styles.css';\nimport { Link } from 'react-router-dom';\nimport useApi from '../../helpers/OLXApi';\nimport { BreadCrumb, PageArea, Fake, AdImage, OthersArea } from './style';\nimport { PageContainer, AdItem, ErrorMessage } from '../../components';\n\nconst Page = () => {\n  const api = useApi();\n  const { id } = useParams();\n\n  const [loading, setLoading] = useState(true);\n  const [adInfo, setAdInfo] = useState({});\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    window.scrollTo({\n      top: 0,\n      left: 0,\n      behavior: 'smooth',\n    });\n    setLoading(true);\n    const getAdInfo = async id => {\n      const getOtherAds = true;\n      const json = await api.getAd(id, getOtherAds);\n\n      if (json.error) {\n        const jsonErrors = [];\n        for (let err in json.error) {\n          console.log(err.msg);\n          jsonErrors.push(json.error[err].msg);\n        };\n\n        setError(jsonErrors.join(', '));\n      };\n\n      setAdInfo(json);\n      setLoading(false);\n    };\n    setTimeout(() => {\n      getAdInfo(id);\n    }, 200);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id])\n\n  const formatDate = date => {\n    const currentDate = new Date(date);\n\n    const months = ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho',\n      'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro',\n    ];\n\n    let currentDay = currentDate.getDate();\n    const currentMotnh = currentDate.getMonth();\n    const currentYear = currentDate.getFullYear();\n\n    currentDay = currentDay < 10 ? '0' + currentDay : currentDay;\n\n    return `${currentDay} de ${months[currentMotnh]} de ${currentYear}`;\n  };\n\n  const formatPrice = price => {\n    return parseFloat(price).toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });\n  };\n\n  return (\n    <PageContainer>\n      {error && <ErrorMessage>{error}</ErrorMessage>}\n      {error === '' &&\n        <>\n          <BreadCrumb>\n            <div className=\"box\">\n              {loading\n                ? <Fake height={18} />\n                :\n                <>\n                  Você está aqui:\n               <Link to=\"/\">Home</Link>\n               &gt;\n               <Link to={`/ads?state=${adInfo.user_info.state}`}>\n                    {adInfo.user_info.state}\n                  </Link>\n               &gt;\n               <Link to={`/ads?state=${adInfo.user_info.state}&cat=${adInfo.category.slug}`}>\n                    {adInfo.category.name}\n                  </Link>\n               &gt; {adInfo.title}\n                </>\n              }\n            </div>\n          </BreadCrumb>\n\n          <PageArea>\n            <div className=\"leftSide\">\n              <div className=\"box\">\n                <div className=\"adImage\">\n                  {loading\n                    ? <Fake height={320} />\n                    : adInfo.images && <Slide>{adInfo.images.map((item, key) => (\n                      <div key={key} className=\"each-slide\">\n                        <AdImage background={item} />\n                      </div>\n                    ))}</Slide>\n                  }\n                </div>\n                <div className=\"adInfo\">\n                  <div className=\"adName\">\n                    {loading\n                      ? <Fake height={55} />\n                      :\n                      <>\n                        <h2>{adInfo.title}</h2>\n                        <small>Criado em: {formatDate(adInfo.date_created)}</small>\n                      </>\n                    }\n                  </div>\n                  <div className=\"adDescription\">\n                    {loading\n                      ?\n                      <Fake height={100} fillContent />\n                      :\n                      <>\n                        <div className=\"adDescriptionContent\">\n                          {adInfo.description}\n                        </div>\n                        <div className=\"adDescriptionContentBottom\">\n                          <hr />\n                          <small>Visualizações: {adInfo.views}</small>\n                        </div>\n                      </>\n                    }\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"rightSide\">\n              <div className=\"box box--padding\">\n                {loading\n                  ? <Fake height={59} />\n                  : adInfo.price_negotiable\n                    ? \"Preço negociável\"\n                    :\n                    <div className=\"price\">\n                      Preço: <span>{formatPrice(adInfo.price)}</span>\n                    </div>\n                }\n              </div>\n              {loading\n                ? <div className=\"box-blue box box--padding\">\n                  <Fake height={15} />\n                </div>\n                : <a\n                  href={`mailto:${adInfo.user_info.email}`}\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                  className=\"contactSellerLink\"\n                >Fale com o vendedor</a>\n              }\n              <div className=\"createdBy box box--padding\">\n                {loading\n                  ? <Fake height={102} />\n                  :\n                  <>\n                    Criado por:\n                 <strong>{adInfo.user_info.name}</strong>\n                    <small>E-mail: {adInfo.user_info.email}</small>\n                    <small>Estado: {adInfo.user_info.state}</small>\n                  </>\n                }\n              </div>\n            </div>\n          </PageArea>\n\n          <OthersArea>\n            {loading\n              ? <Fake height={300} />\n              : adInfo.others &&\n              <>\n                <h2>Outras ofertas do vendedor</h2>\n                <div className=\"list\">\n                  {adInfo.others.map((item, key) => (\n                    <AdItem key={key} data={item} />\n                  ))}\n                </div>\n              </>\n            }\n          </OthersArea>\n        </>\n      }\n    </PageContainer>\n  );\n};\n\nexport default Page;"]},"metadata":{},"sourceType":"module"}